.\" Automatically generated by Pandoc 2.2.1
.\"
.TH "bup\-get" "1" "2019\-09\-28" "Bup 0.30" ""
.hy
.SH NAME
.PP
bup\-get \- copy repository items (CAUTION: EXPERIMENTAL)
.SH SYNOPSIS
.PP
bup get [\-s \f[I]source\-path\f[]] [\-r \f[I]host\f[]:\f[I]path\f[]]
OPTIONS <(METHOD \f[I]ref\f[] [\f[I]dest\f[]])>\&...
.SH DESCRIPTION
.PP
\f[C]bup\ get\f[] copies the indicated \f[I]ref\f[]s from the source
repository to the destination repository (respecting
\f[C]\-\-bup\-dir\f[] and \f[C]BUP_DIR\f[]), according to the specified
METHOD, which may be one of \f[C]\-\-ff\f[], \f[C]\-\-ff:\f[],
\f[C]\-\-append\f[], \f[C]\-\-append:\f[], \f[C]\-\-pick\f[],
\f[C]\-\-pick:\f[], \f[C]\-\-force\-pick\f[], \f[C]\-\-force\-pick:\f[],
\f[C]\-\-new\-tag\f[], \f[C]\-\-new\-tag:\f[], \f[C]\-\-replace\f[],
\f[C]\-\-replace:\f[], or \f[C]\-\-unnamed\f[].
See the EXAMPLES below for a quick introduction.
.PP
The \f[I]ref\f[] is the source repository reference of the object to be
fetched, and the \f[I]dest\f[] is the optional destination reference.
A \f[I]dest\f[] may only be specified for a METHOD whose name ends in a
colon.
For example:
.IP
.nf
\f[C]
bup\ get\ \-s\ /source/repo\ \-\-ff\ foo
bup\ get\ \-s\ /source/repo\ \-\-ff:\ foo/latest\ bar
bup\ get\ \-s\ /source/repo\ \-\-pick:\ foo/2010\-10\-10\-101010\ .tag/bar
\f[]
.fi
.PP
As a special case, if \f[I]ref\f[] names the \[lq]latest\[rq] save
symlink, then bup will act exactly as if the save that \[lq]latest\[rq]
points to had been specified, rather than the \[lq]latest\[rq] symlink
itself, so \f[C]bup\ get\ foo/latest\f[] will actually be interpreted as
something like \f[C]bup\ get\ foo/2013\-01\-01\-030405\f[].
.PP
In some situations \f[C]bup\ get\f[] will evaluate a branch operation
according to whether or not it will be a \[lq]fast\-forward\[rq] (which
requires that any existing destination branch be an ancestor of the
source).
.PP
An existing destination tag can only be overwritten by a
\f[C]\-\-replace\f[] or \f[C]\-\-force\-pick\f[].
.PP
When a new commit is created (i.e.\ via \f[C]\-\-append\f[],
\f[C]\-\-pick\f[], etc.), it will have the same author, author date, and
message as the original, but a committer and committer date
corresponding to the current user and time.
.PP
If requested by the appropriate options, bup will print the commit,
tree, or tag hash for each destination reference updated.
When relevant, the tree hash will be printed before the commit hash.
.PP
Local \f[I]ref\f[]s can be pushed to a remote repository with the
\f[C]\-\-remote\f[] option, and remote \f[I]ref\f[]s can be pulled into
a local repository via \[lq]bup on HOST get \&...\[rq].
See \f[C]bup\-on\f[](1) and the EXAMPLES below for further information.
.PP
WARNING: This is one of the few bup commands that can modify your
archives in intentionally destructive ways.
Though if an attempt to join or restore the data you still care about
succeeds after you've run this command, then that's a fairly encouraging
sign that it worked correctly.
(The t/compare\-trees command in the source tree can be used to help
test before/after results.)
.SH METHODS
.TP
.B \[en]ff \f[I]ref\f[], \[en]ff: \f[I]ref\f[] \f[I]dest\f[]
fast\-forward \f[I]dest\f[] to match \f[I]ref\f[].
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a save, set
\f[I]dest\f[] to the save's branch.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a branch or a
tag, use the same name for \f[I]dest\f[].
.RS
.RE
.TP
.B \[en]append \f[I]ref\f[], \[en]append: \f[I]ref\f[] \f[I]dest\f[]
append all of the commits represented by \f[I]ref\f[] to \f[I]dest\f[]
as new commits.
If \f[I]ref\f[] names a directory/tree, append a new commit for that
tree.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a save or
branch, set \f[I]dest\f[] to the \f[I]ref\f[] branch name.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a tag, use the
same name for \f[I]dest\f[].
.RS
.RE
.TP
.B \[en]pick \f[I]ref\f[], \[en]pick: \f[I]ref\f[] \f[I]dest\f[]
append the single commit named by \f[I]ref\f[] to \f[I]dest\f[] as a new
commit.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a save, set
\f[I]dest\f[] to the \f[I]ref\f[] branch name.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a tag, use the
same name for \f[I]dest\f[].
.RS
.RE
.TP
.B \[en]force\-pick \f[I]ref\f[], \[en]force\-pick: \f[I]ref\f[] \f[I]dest\f[]
do the same thing as \f[C]\-\-pick\f[], but don't refuse to overwrite an
existing tag.
.RS
.RE
.TP
.B \[en]new\-tag \f[I]ref\f[], \[en]new\-tag: \f[I]ref\f[] \f[I]dest\f[]
create a \f[I]dest\f[] tag for \f[I]ref\f[], but refuse to overwrite an
existing tag.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a tag, use the
same name for \f[I]dest\f[].
.RS
.RE
.TP
.B \[en]replace \f[I]ref\f[], \[en]replace: \f[I]ref\f[] \f[I]dest\f[]
clobber \f[I]dest\f[] with \f[I]ref\f[], overwriting any existing tag,
or replacing any existing branch.
If \f[I]dest\f[] is not specified and \f[I]ref\f[] names a branch or
tag, use the same name for \f[I]dest\f[].
.RS
.RE
.TP
.B \[en]unnamed \f[I]ref\f[]
copy \f[I]ref\f[] into the destination repository, without any name,
leaving a potentially dangling reference until/unless the object named
by \f[I]ref\f[] is referred to some other way (cf.
\f[C]bup\ tag\f[]).
.RS
.RE
.SH OPTIONS
.TP
.B \-s, \[en]source=\f[I]path\f[]
use \f[I]path\f[] as the source repository, instead of the default.
.RS
.RE
.TP
.B \-r, \[en]remote=\f[I]host\f[]:\f[I]path\f[]
store the indicated items on the given remote server.
If \f[I]path\f[] is omitted, uses the default path on the remote server
(you still need to include the `:').
The connection to the remote server is made with SSH.
If you'd like to specify which port, user or private key to use for the
SSH connection, we recommend you use the \f[C]~/.ssh/config\f[] file.
.RS
.RE
.TP
.B \-c, \[en]print\-commits
for each updated branch, print the new git commit id.
.RS
.RE
.TP
.B \-t, \[en]print\-trees
for each updated branch, print the new git tree id of the filesystem
root.
.RS
.RE
.TP
.B \[en]print\-tags
for each updated tag, print the new git id.
.RS
.RE
.TP
.B \-v, \[en]verbose
increase verbosity (can be used more than once).
With \f[C]\-v\f[], print the name of every item fetched, with
\f[C]\-vv\f[] add directory names, and with \f[C]\-vvv\f[] add every
filename.
.RS
.RE
.TP
.B \[en]bwlimit=\f[I]bytes/sec\f[]
don't transmit more than \f[I]bytes/sec\f[] bytes per second to the
server.
This can help avoid sucking up all your network bandwidth.
Use a suffix like k, M, or G to specify multiples of 1024, 1024*1024,
1024*1024*1024 respectively.
.RS
.RE
.TP
.B \-\f[I]#\f[], \[en]compress=\f[I]#\f[]
set the compression level to # (a value from 0\-9, where 9 is the
highest and 0 is no compression).
The default is 1 (fast, loose compression)
.RS
.RE
.SH EXAMPLES
.IP
.nf
\f[C]
#\ Update\ or\ copy\ the\ archives\ branch\ in\ src\-repo\ to\ the\ local\ repository.
$\ bup\ get\ \-s\ src\-repo\ \-\-ff\ archives

#\ Append\ a\ particular\ archives\ save\ to\ the\ pruned\-archives\ branch.
$\ bup\ get\ \-s\ src\-repo\ \-\-pick:\ archives/2013\-01\-01\-030405\ pruned\-archives

#\ Update\ or\ copy\ the\ archives\ branch\ on\ remotehost\ to\ the\ local
#\ repository.
$\ bup\ on\ remotehost\ get\ \-\-ff\ archives

#\ Update\ or\ copy\ the\ local\ branch\ archives\ to\ remotehost.
$\ bup\ get\ \-r\ remotehost:\ \-\-ff\ archives

#\ Update\ or\ copy\ the\ archives\ branch\ in\ src\-repo\ to\ remotehost.
$\ bup\ get\ \-s\ src\-repo\ \-r\ remotehost:\ \-\-ff\ archives

#\ Update\ the\ archives\-2\ branch\ on\ remotehost\ to\ match\ archives.
#\ If\ archives\-2\ exists\ and\ is\ not\ an\ ancestor\ of\ archives,\ bup
#\ will\ refuse.
$\ bup\ get\ \-r\ remotehost:\ \-\-ff:\ archives\ archives\-2

#\ Replace\ the\ contents\ of\ branch\ y\ with\ those\ of\ x.
$\ bup\ get\ \-\-replace:\ x\ y

#\ Copy\ the\ latest\ local\ save\ from\ the\ archives\ branch\ to\ the
#\ remote\ tag\ foo.
$\ bup\ get\ \-r\ remotehost:\ \-\-pick:\ archives/latest\ .tag/foo

#\ Or\ if\ foo\ already\ exists:
$\ bup\ get\ \-r\ remotehost:\ \-\-force\-pick:\ archives/latest\ .tag/foo

#\ Append\ foo\ (from\ above)\ to\ the\ local\ other\-archives\ branch.
$\ bup\ on\ remotehost\ get\ \-\-append:\ .tag/foo\ other\-archives

#\ Append\ only\ the\ /home\ directory\ from\ archives/latest\ to\ only\-home.
$\ bup\ get\ \-s\ "$BUP_DIR"\ \-\-append:\ archives/latest/home\ only\-home
\f[]
.fi
.SH SEE ALSO
.PP
\f[C]bup\-on\f[](1), \f[C]bup\-tag\f[](1), \f[C]ssh_config\f[](5)
.SH BUP
.PP
Part of the \f[C]bup\f[](1) suite.
.SH AUTHORS
Rob Browning <rlb@defaultvalue.org>.
